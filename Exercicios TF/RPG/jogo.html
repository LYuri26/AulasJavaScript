<!DOCTYPE html>
<html lang="pt-br">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Personagens Selecionados</title>
    <link rel="stylesheet" href="./css/jogo.css" />
  </head>
  <body>
    <div class="player-container" id="player1">
      <h2>Jogador 1</h2>
      <div><strong>Personagem:</strong> <span
          id="player1Character"></span></div>
      <div><strong>Vida:</strong> <span id="player1Vida"></span></div>
      <div><strong>Dano:</strong> <span id="player1Dano"></span></div>
      <div><strong>Armadura:</strong> <span id="player1Armadura"></span></div>
      <div><strong>Esquiva:</strong> <span id="player1Esquiva"></span></div>
      <div><strong>Peso:</strong> <span id="player1Peso"></span></div>
      <div><strong>Stamina:</strong> <span id="player1Stamina"></span></div>
    </div>

    <div class="player-container" id="player2">
      <h2>Jogador 2</h2>
      <div><strong>Personagem:</strong> <span
          id="player2Character"></span></div>
      <div><strong>Vida:</strong> <span id="player2Vida"></span></div>
      <div><strong>Dano:</strong> <span id="player2Dano"></span></div>
      <div><strong>Armadura:</strong> <span id="player2Armadura"></span></div>
      <div><strong>Esquiva:</strong> <span id="player2Esquiva"></span></div>
      <div><strong>Peso:</strong> <span id="player2Peso"></span></div>
      <div><strong>Stamina:</strong> <span id="player2Stamina"></span></div>
    </div>

    <script src="./js/modalpersonagens.js"></script>
    <script src="./js/dados.js"></script>
    <script src="./js/turnos.js"></script>

    <script>
      document.addEventListener("DOMContentLoaded", function () {
        // Recupera os dados dos jogadores do localStorage
        const player1Character = JSON.parse(localStorage.getItem("player1Character"));
        const player2Character = JSON.parse(localStorage.getItem("player2Character"));

        // Verifica se os dados dos jogadores estão disponíveis
        if (!player1Character || !player2Character) {
          alert("Os personagens não foram selecionados corretamente! Retornando...");
          window.location.href = "../index.html";
          return;
        }

        // Função para atualizar as informações do jogador
        function updatePlayerInfo(playerId, character) {
          document.getElementById(`${playerId}Character`).textContent = `${character.title} - ${character.name}`;
          document.getElementById(`${playerId}Vida`).textContent = character.life;
          document.getElementById(`${playerId}Dano`).textContent = character.damage;
          document.getElementById(`${playerId}Armadura`).textContent = character.armor;
          document.getElementById(`${playerId}Esquiva`).textContent = character.dodge;
          document.getElementById(`${playerId}Peso`).textContent = character.weight;
          document.getElementById(`${playerId}Stamina`).textContent = character.stamina;
        }

        // Atualiza os dados dos jogadores
        updatePlayerInfo("player1", player1Character);
        updatePlayerInfo("player2", player2Character);
      });
    </script>
  </body>
</html>
